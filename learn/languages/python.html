<!DOCTYPE html><html><head>
    <title>
  Use Python with Stencila : Stencila
</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/png" href="/img/favicon.png">
    

    <link rel="stylesheet" href="/css/materia.min.css">
    <link rel="stylesheet" href="/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="/css/docsearch.min.css">
    <link rel="stylesheet" href="/css/website.css">
    
<style type="text/css">
  main .content {
    min-height: 60vh;
  }

  main .menu {
    padding-top: 4em;
    padding-left: 2em;
  }

  main .steps {
    margin-top: 2em;
  }

  main .prev,
  main .next {
    font-size: 1.2em;
  }

  main .prev {
    float: left;
  }

  main .next {
    float: right;
  }
</style>
<link rel="stylesheet" href="/css/prism.css">

  </head>
  <body>
    <header class="header">
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="/"><img src="/img/logo-name.png" alt="Stencila"></a>
        <div class="navbar-burger"><span></span><span></span><span></span></div>
      </div>
      <div class="navbar-menu">
        <div class="navbar-start">
          <a class="navbar-item" href="/use">Use</a>
          <a class="navbar-item" href="/learn/intro.html">Learn</a>
          <a class="navbar-item" href="/contribute">Contribute</a>
        </div>
        <div class="navbar-end">
          <!--
          Search temporarily disabled. See issue #2
          <div class="navbar-item">
            <div class="field">
              <p class="control">
                <input id="search" class="input" type="search" placeholder="Search">
              </p>
            </div>
          </div>
          -->
          <a class="navbar-item" href="/community">Community</a>
          <a class="navbar-item" href="/blog">Blog</a>
        </div>
      </div>
    </div>
  </nav>
</header>

    
<main class="section">
  <div class="container">
    <div class="columns">
      <div class="column">
        <div class="content">
          <h2 class="title is-2">Use Python with Stencila</h2>
          <p>Stencila allows you use interactive Python code  within Stencila articles, notebooks and sheets.
In order to be able to use Python within Stencila documents you need to
<a href="#installation">enable the execution context</a>.</p>
<p>You can write Python code
just like you would in any other editor or reproducible notebook. You can install Python packages and import them,
create and embed plots, and so on.</p>
<h2 id="installation">Installation</h2>
<blockquote class="warning">
<p> We are currently working on making the Stencila Python package compatible with the latest Stencila Desktop. During that process, not all functionality may be available.</p>
</blockquote>
<p>The <a href="https://github.com/stencila/py">Stencila Python package</a> provides a <code>PythonContext</code> for executing Python code and functions from within Stencila documents.</p>
<p>The package is not available via PyPI (Python Package Index) yet, so you need to install it from our Github repository.</p>
<blockquote class="tip">
<p> You may need to install <code>pip</code> first. On Windows, <a href="https://dev.to/el_joft/installing-pip-on-windows">these instructions</a> may be useful.</p>
</blockquote>
<p>Open a terminal session (on Windows, go to &quot;Start&quot; and then in &quot;Search for programmes and files&quot; type <code>cmd</code>) and type in:</p>
<pre><code class="language-bash">pip install --user https://github.com/stencila/py/archive/master.zip
</code></pre>
<p><strong>Note</strong> If you have <a href="https://www.anaconda.com/">Anaconda</a> installed on your system, you should install the package using the following command:</p>
<pre><code class="language-bash">pip install https://github.com/stencila/py/archive/master.zip
</code></pre>
<p>This will install <code>stencila</code> in your Anaconda directory (where it should be), rather than in your local user Python libraries directory.
If you don&apos;t do that (i.e. get the <code>stencila</code> package installed in your local user Python libraries), when you try to register <code>stencila</code>
package (see below), you will get an error as your Anaconda Python will search for <code>stencila</code> and its dependencies in the Anaconda directory.</p>
<p>Then register the package&apos;s manifest so that it can be found by the Stencila Desktop and other Stencila packages,</p>
<pre><code class="language-bash">python -m stencila register
</code></pre>
<p><strong>Note</strong> If the default Python on your machine is Python 2.7 whilst you have Python 3.6 installed and you would like to use it with Stencila, then you need
to install <code>stencila</code> using <code>pip3</code> and then register it explicitly using <code>python3</code>:</p>
<pre><code class="language-bash">pip3 install --user https://github.com/stencila/py/archive/master.zip
</code></pre>
<pre><code class="language-bash">python3 -m stencila register
</code></pre>
<h2 id="code-execution">Code execution</h2>
<p>Stencila keeps track of the code dependecies between the code cells. It supports reactive programming which means that the code and the respective outputs
will get updated, when you change a piece of code they depend on. It is a similar principle as behind the behavior of spreadsheet applications.
You can refer to specific outputs from any code cell in any part of your Stencila document. Stencila does all this using its <a href="">execution engine</a>.</p>
<p>What inputs and outputs of a code cell are vary slightly between programming languages that you use in Stencila.  For cells written in Python,
if you want to capture the output of the cell so that you can refer to it throughout the document, you need to create a variable and assign (<code>=</code>) the output. To be more precise, you are capturing the <em>result of the evaluation of the cell</em>.
Note that, the variables in Stencila are non-mutable.</p>
<p>For example:</p>
<pre><code class="language-python">import math

x = 4
y = math.sqrt(x)
</code></pre>
<p>Now you can refer to the output of the cell using the variable <code>y</code>.</p>
<p>If you do not capture the output explicitly, you will not be able to refer to it later on. For example:</p>
<pre><code class="language-python">import math

x = 4
math.sqt(x)
</code></pre>
<p>The result of the <code>math.sqrt(x)</code> is <code>2</code> but you will not be able to refer to it since it has not been captured explicitly in a variable.
Summarizing: the output of this cell is not captured and the result of evaluating this cell is <code>2</code> (<code>math.sqrt(4)</code>).</p>
<h2 id="data-interchange">Data interchange</h2>
<p>Stencila provides you with ability to use multiple programming languages to write interactive code within
one document, working on the same data. In other words, you can manipulate the same data switching between different programming
languages. This capability is achieved through <code>data interchange</code> feature.</p>
<p>When you pass data between cells Stencila temporarily converts it into its internal schema representation.
The table below shows (roughly) how data interchange between the schema and Python is implemented. For more details
see <a href="https://github.com/stencila/py/blob/master/stencila/value.py">source code</a>.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Schema representation</th>
<th style="text-align:left">Python</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">bool</td>
</tr>
<tr>
<td style="text-align:left">Integer</td>
<td style="text-align:left">int</td>
</tr>
<tr>
<td style="text-align:left">Float</td>
<td style="text-align:left">float</td>
</tr>
<tr>
<td style="text-align:left">String</td>
<td style="text-align:left">str</td>
</tr>
<tr>
<td style="text-align:left">Array</td>
<td style="text-align:left">Python list</td>
</tr>
<tr>
<td style="text-align:left">Object</td>
<td style="text-align:left">Python object*</td>
</tr>
<tr>
<td style="text-align:left">Table</td>
<td style="text-align:left">pandas.DataFrame</td>
</tr>
</tbody>
</table>
<p>*The object fields and methods are saved within the schema-defined object/array and converted accordingly.</p>

        </div>
        <div class="steps">
          
          
        </div>
      </div>
      <div class="column is-one-quarter">
        <aside class="menu">
  <p class="menu-label">
    Getting started
  </p>
  <ul class="menu-list">
    <li><a href="/learn/intro.html">Introduction</a></li>
    <li><a href="/use/install.html">Installation</a></li>
    <!-- <li><a href="/learn/getting-started/quick-start.html">Quick start</a></li> -->
    <li><a href="/learn/faq.html">FAQ</a></li>
  </ul>
  <!-- <p class="menu-label">
    Computation
  </p> -->
  <ul class="menu-list">
    <!-- <li><a href="/learn/computation/data.html">Data</a></li> -->
    <!-- <li><a href="/learn/computation/operations.html">Operations</a></li> -->
    <!-- <li><a href="/learn/computation/contexts.html">Contexts</a></li> -->
    <!-- <li><a href="/learn/computation/engine.html">Engine</a></li> -->
    <!-- <li><a href="/learn/computation/functions.html">Functions</a></li> -->
  </ul>
  <p class="menu-label">
    Languages
  </p>
  <ul class="menu-list">
    <li><a href="/learn/languages/mini.html">Mini</a></li>
    <li><a href="/learn/languages/javascript.html">Javascript</a></li>
    <li><a href="/learn/languages/python.html">Python</a></li>
    <li><a href="/learn/languages/r.html">R</a></li>
    <li><a href="/learn/languages/sql.html">SQL</a></li>
  </ul>

  <p class="menu-label">
    Integrations
  </p>
  <ul class="menu-list">
    <li><a href="/learn/integrations/converters.html">Converters</a></li>
  </ul>
</aside>

      </div>
    </div>
  </div>
</main>

    <footer class="footer">
  <div class="container">
    <div class="columns">
      <div class="column">
        <h4 class="title is-6 has-text-grey-light"> About </h4>
        <a href="/use">Use </a> <br>
        <a href="/learn"> Learn </a> <br>
        <a href="/learn/faq.html"> FAQ  </a>  <br>
      </div>
      <div class="column">
        <h4 class="title is-6 has-text-grey-light"> Community </h4>
        <a href="/contribute"> Contribute </a> <br>
        <a href="/community/beta-testing.html"> Beta Testing </a> <br>
        <a href="/community/resources.html"> Resources  </a>  <br>
        <a href="/blog"> Blog  </a>  <br>
      </div>
      <div class="column">
        <h4 class="title is-6 has-text-grey-light"> Contact </h4>
        <a href="mailto:hello@stenci.la">Email </a> <br>
        <a href="https://twitter.com/stencila"> Twitter </a> <br>
        <a href="https://gitter.im/stencila/stencila"> Gitter Chat </a>  <br>
        <a href="https://community.stenci.la/"> Community Forum  </a>  <br>
        <a id="edit-page" class="button" href="https://github.com/stencila/website/edit/master/src/learn/languages/python.md" target="_blank" title="Edit this page">&#x270E; Edit</a>
      </div>
    </div>
    <div class="columns">
      <div class="column has-text-grey-light has-text-centered">
          &#xA9; 2018 Stencila <a href="https://github.com/stencila/stencila/graphs/contributors">contributors</a>
      </div>
   </div>
  </div>
</footer>

  
  

  <script type="text/javascript" src="/js/docsearch.min.js"></script>
  <script type="text/javascript" src="/js/website.js"></script>
  
<script type="text/javascript" src="/js/prism.js"></script>
<script type="text/javascript" src="/js/prism-bash.min.js"></script>
<script type="text/javascript" src="/js/prism-json.min.js"></script>
<script type="text/javascript" src="/js/prism-mini.js"></script>
<script type="text/javascript" src="/js/prism-python.min.js"></script>
<script type="text/javascript" src="/js/prism-r.min.js"></script>
<script type="text/javascript" src="/js/prism-sql.min.js"></script>


</body></html>